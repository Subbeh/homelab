---
# yaml-language-server: $schema=https://taskfile.dev/schema.json
version: "3"

tasks:
  secret-sabnzbd:
    internal: true
    cmd: task run -- media/sabnzbd api_key={{.api_key}}
    vars:
      api_key:
        sh: bwget sabnzbd.sbbh.cloud api-key

  secret-radarr:
    internal: true
    cmd: task run -- media/radarr api_key={{.api_key}}
    vars:
      api_key:
        sh: bwget radarr.sbbh.cloud api-key

  secret-sonarr:
    internal: true
    cmd: task run -- media/sonarr api_key={{.api_key}}
    vars:
      api_key:
        sh: bwget sonarr.sbbh.cloud api-key

  secret-prowlarr:
    internal: true
    cmd: task run -- media/prowlarr api_key={{.api_key}}
    vars:
      api_key:
        sh: bwget prowlarr.sbbh.cloud api-key

  secret-plex:
    internal: true
    cmd: task run -- media/plex token={{.token}}
    vars:
      token:
        sh: bwget plex.sbbh.cloud token

  secret-kometa:
    internal: true
    cmd: task run -- media/kometa mdblist_key={{.mdblist_key}} omdb_key={{.omdb_key}} tmdb_key={{.tmdb_key}}
    vars:
      mdblist_key:
        sh: bwget mdblist.com api-key
      omdb_key:
        sh: bwget omdbapi.com api-key
      tmdb_key:
        sh: bwget themoviedb.org api-key
